<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>    
        
        <link rel="stylesheet" href="style.css"/>
        <title>Cold Caller</title>
    </head>
    <body>
        <div class="container">
            <div class="input-group" id="inputForm">
                <label for="options">Enter Student Names: </label>
                <input class="form-control" id="options" type="textarea"/>
                <button class="btn btn-primary" type="submit" id="submitOptions">GO!</button>
            </div>
            <div class="container" id="resultContainer" style="display: none">
                <div id="selected"></div>
                <button class="btn btn-primary" id="resetBtn">Reset</button>
            </div>
        </div>
        <p id="selected"></p>
        <script>
            const prefilled = [ "Jhansiris Arias",
                                "Betsabe Bajana",
                                "Angelo Candelario",
                                "Ashley Carrasquillo",
                                "Christian Corte",
                                "Dylan DiazMarrero",
                                "Joseph Duran",
                                "Sally Estevez",
                                "Jackelyn Galindo",
                                "Bethany Garcia",
                                "Carlos Garcia",
                                "Shirley Gonzalez",
                                "Izaiah Guzman",
                                "Claudia Hernandez",
                                "Petal Jagdeo",
                                "Alyssa Laborde",
                                "Elvis Maliza",
                                "Nichole Mandujano",
                                "Catherine Mateo",
                                "Venus Medina",
                                "Jailee Mendo",
                                "Diana Mendoza",
                                "Leomary Nunez",
                                "Bryan Oyuela",
                                "Ariana Penalo",
                                "Francisco Prieto",
                                "Danelcy Ramos",
                                "Rafael Rivas",
                                "Ashley Rivera",
                                "Andrea Tendilla",
                                "Mana Tezuka",
                                "Alyssa Vanegas",
                                "Luis Yanchapanta",
                                "Carolina Zhagnay" ];

            const load = () => {
                
                document.getElementById('submitOptions')
                        .onclick = ((e) => {
                            console.log(prefilled)
                            let allStudents = document.getElementById('options')
                                                      .value
                                                      .split(' ');

                            console.log(allStudents)

                            allStudents = (allStudents.length > 1) ? allStudents : prefilled;

                            document.getElementById('inputForm')
                                    .style
                                    .display = 'none';
                            document.getElementById('resultContainer')
                                    .style
                                    .display = 'block';

                            let selected = allStudents[Math.floor(Math.random() * allStudents.length)];

                            document.getElementById('selected').innerText = "\u{1F389}" + selected;
                            console.log('go btn clicked!', allStudents)
                        });

                document.getElementById('resetBtn')
                        .onclick = (e) => {
                            document.getElementById('inputForm')
                                    .style
                                    .display = 'block';
                            document.getElementById('resultContainer')
                                    .style
                                    .display = 'none';

                        }

            }

            window.onload = load;
            
        </script>
    </body>
</html>